let open,http,fs;_088‍.w("opn",[["default",["open"],function(v){open=v}]]);_088‍.w("http",[["default",["http"],function(v){http=v}]]);_088‍.w("fs",[["default",["fs"],function(v){fs=v}]]);



const server = http.createServer((req, res) => {
    // Lee el contenido del archivo HTML
    const htmlContent = fs.readFileSync('lpSite.html', 'utf8');

    res.writeHead(200, {'Content-Type': 'text/html'});
    res.end(htmlContent);
});

const PORT = 3000;

server.listen(PORT, () => {
    console.log(`Servidor en ejecución en http://localhost:${PORT}/`);
    
    // Abre el navegador al cargar el servidor
    open(`http://localhost:${PORT}/`);
});

document.addEventListener("DOMContentLoaded", function () {
    let timer;
    let timeLeft = 600; // 10 minutos en segundos
    let prompts = ["Prompt 1", "Prompt 2", "Prompt 3"]; // Puedes agregar más prompts a esta lista

    const timerDisplay = document.getElementById("timer");
    const promptDisplay = document.getElementById("prompt");
    const promptInput = document.getElementById("promptInput");

    function updateTimer() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timerDisplay.textContent = `${String(minutes).padStart(2, "0")}:${String(seconds).padStart(2, "0")}`;
    }

    function showNextPrompt() {
        if (prompts.length > 0) {
            const nextPrompt = prompts.shift();
            promptDisplay.textContent = nextPrompt;
        } else {
            promptDisplay.textContent = "Estoy Libre! Dame algo para Dibujar.";
        }
    }

    function startTimer() {
        timer = setInterval(function () {
            if (timeLeft > 0) {
                timeLeft--;
                updateTimer();
            } else {
                clearInterval(timer);
                showNextPrompt();
                timeLeft = 600; // Reiniciar el temporizador a 10 minutos
                updateTimer();
                startTimer();
            }
        }, 1000);
    }

    updateTimer(); // Mostrar el temporizador inicial
    showNextPrompt(); // Mostrar el primer prompt

    startTimer(); // Iniciar el temporizador

    promptInput.addEventListener("change", function () {
        const newPrompt = promptInput.value;
        if (newPrompt.trim() !== "") {
            prompts.push(newPrompt);
            promptInput.value = "";
        }
    });
});
